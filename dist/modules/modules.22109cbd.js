"use strict";angular.module("imageFlipper",["ngAnimate","ngRoute","ngSanitize","ngMessages","ui.router"]),angular.module("imageFlipper").config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){a.state("master",{url:"/",templateUrl:"modules/main.html"}).state("image-flip",{url:"/image-flip",controller:"ImageFlip as ImageFlip",templateUrl:"modules/image-flip/main.html"}),b.otherwise("/"),c.hashPrefix("")}]),angular.module("imageFlipper").controller("ImageFlip",["$http","$timeout","ImageService","PrizeService",function(a,b,c,d){function e(){var a,b,c=0;for(b=0;41>b;b++)a=Math.floor(2*Math.random()),1===a&&c++,14>c?k.push(a):k.push(0);k.push(1)}function f(){var a=Math.floor(7*Math.random());j.selectedMovieName=l[a],j.randomMovieName=l[a?a-1:6]}function g(){angular.forEach(j.images,function(a){a.isFlipped=!0,a.movieName=""}),j.flippedImages=0,j.numberOfGames++,f(),j.isWinningGame=k[j.numberOfGames]?!0:!1}var h,i,j=this,k=[],l=["Tamasha","Bajirao Mastani","Ramleela","Xander Cage","Piku","Cocktail","Race"];j.flippedImages=0,j.numberOfGames=0,j.isGameWon=!1,c.getImages().then(function(a){j.images=a.data,h=angular.copy(j.images)}),d.getPrizes().then(function(a){j.prizes=a.data[0],i=angular.copy(j.prizes)}),e(),f(),j.isWinningGame=k[j.numberOfGames]?!0:!1,j.selectImage=function(a){!a.isFlipped||j.flippedImages>=2||(a.isFlipped&&(j.flippedImages++,a.isFlipped=!1,j.isWinningGame||1===j.flippedImages?a.movieName=j.selectedMovieName:a.movieName=j.randomMovieName),b(function(){2===j.flippedImages&&(j.isGameEnds=!0,j.isWinningGame?(j.prizes.tickets?j.prizes.tickets--:j.prizes.mobile?j.prizes.mobile--:j.prizes.bike--,j.isGameWon=!0):j.isWinningGame||(j.isGameWon=!1),g())},400))},j.resetGame=function(){j.isGameEnds=!1,j.numberOfGames=0,j.prizes=angular.copy(i)}}]),angular.module("imageFlipper").factory("ImageService",["$http",function(a){function b(){return a.get("json/images.101e514e.json")}return{getImages:b}}]),angular.module("imageFlipper").factory("PrizeService",["$http",function(a){function b(){return a.get("json/prizes.8a9c69dd.json")}return{getPrizes:b}}]),angular.module("imageFlipper").run(["$templateCache",function(a){a.put("modules/image-flip/main.html",'<div class="flip-image"> <div class="prizes"> <div class="prizes__label">Remaining Prizes:</div> <div ng-show="ImageFlip.prizes.bike"> <div ng-show="ImageFlip.prizes.tickets">{{ImageFlip.prizes.tickets}} Movies Tickets</div> <div ng-show="ImageFlip.prizes.mobile">{{ImageFlip.prizes.mobile}} Mobile Phones</div> <div>{{ImageFlip.prizes.bike}} Bike(Bumber Prize)</div> </div> <div ng-show="!ImageFlip.prizes.bike"> No prizes left </div> </div> <div ng-show="ImageFlip.isGameEnds" class="game-ends"> <div class="game-ends__label" ng-show="ImageFlip.isGameWon"> Congrats! You Won a {{(ImageFlip.prizes.tickets || ImageFlip.prizes.mobile == 3) ? \'Movie Ticket\' : ((ImageFlip.prizes.mobile || ImageFlip.prizes.bike == 1) ? \'Mobile Phone\' : \'Bike (Bumper Prize)\' )}}</div> <div class="game-ends__label" ng-show="!ImageFlip.isGameWon">Sorry! You Lose</div> <button class="button button--primary" ng-show="ImageFlip.prizes.bike" ng-click="ImageFlip.isGameEnds=!ImageFlip.isGameEnds">Play Again</button> <button class="button button--primary" ng-show="!ImageFlip.prizes.bike" ng-click="ImageFlip.resetGame()">Reset Game</button> </div> <div ng-show="!ImageFlip.isGameEnds" class="flip-image__card" ng-class="{\'flipped\':!image.isFlipped}" ng-repeat="image in ImageFlip.images" ng-click="ImageFlip.selectImage(image)"> <div class="face front"> Click to see the movie name </div> <div class="face back"> {{image.movieName}} </div> </div> </div>'),a.put("modules/main.html",'<div class="main-container"> <h1 class="main-container__heading">Image Flipper Game</h1> <div class="game-instructions"> <div class="game-instructions__label">Game Instructions</div> <div class="game-instructions__text"> You get the chance to select two images by clicking them. On clicking, they flip and show the movie names. If both the movie names are same, you are eligible to win some prize. </div> </div> <button class="button button--primary" ui-sref="image-flip">Play</button> </div>')}]);
//# sourceMappingURL=modules.22109cbd.js.map